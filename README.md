# CLAUDE STARS
è®¡ç®—æœºè½¯ä»¶è¡Œä¸šç†è®ºå­¦ä¹ ä¸å®è·µé¡¹ç›®ã€‚åŒ…æ‹¬ï¼š
* 01 -- 19ï¼š åŸºäº JDK1.8 çš„ Netty å­¦ä¹ 
* 20 -- ï¼š
* 31 - 38ï¼š Docker å®¹å™¨åŒ–
* 39 - ï¼š 

# ğŸ“‹ Prerequisites
```
JDK 1.8+ (æ¨è azul-1.8.0_442 æˆ–æ›´é«˜ç‰ˆæœ¬)
Maven 3.3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
netty 4.1.94.Final
```

# About Netty
Nettyæ˜¯ä¸€ä¸ªNIOå®¢æˆ·ç«¯æœåŠ¡å™¨æ¡†æ¶ï¼š
* å®ƒå¯å¿«é€Ÿè½»æ¾åœ°å¼€å‘ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚åè®®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ã€‚ 
* å®ƒæå¤§åœ°ç®€åŒ–å’Œç®€åŒ–äº†ç½‘ç»œç¼–ç¨‹ï¼Œä¾‹å¦‚TCPå’ŒUDPå¥—æ¥å­—æœåŠ¡å™¨ã€‚

NIOæ˜¯ä¸€ç§éé˜»å¡IO ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹
* å•çº¿ç¨‹å¯ä»¥è¿æ¥å¤šä¸ªå®¢æˆ·ç«¯ã€‚
* é€‰æ‹©å™¨å¯ä»¥å®ç°ä½†çº¿ç¨‹ç®¡ç†å¤šä¸ªChannelï¼Œæ–°å»ºçš„é€šé“éƒ½è¦å‘é€‰æ‹©å™¨æ³¨å†Œã€‚
* ä¸€ä¸ªSelectionKeyé”®è¡¨ç¤ºäº†ä¸€ä¸ªç‰¹å®šçš„é€šé“å¯¹è±¡å’Œä¸€ä¸ªç‰¹å®šçš„é€‰æ‹©å™¨å¯¹è±¡ä¹‹é—´çš„æ³¨å†Œå…³ç³»ã€‚
* selectorè¿›è¡Œselect()æ“ä½œå¯èƒ½ä¼šäº§ç”Ÿé˜»å¡ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®é˜»å¡æ—¶é—´ï¼Œå¹¶ä¸”å¯ä»¥ç”¨wakeup()å”¤é†’selectorï¼Œæ‰€ä»¥NIOæ˜¯éé˜»å¡IOã€‚

## æ ¸å¿ƒä»£ç èŒèƒ½
ServerBootstrap â€“ ç”¨äºå¼•å¯¼æœåŠ¡å™¨é€šé“å¹¶å¯åŠ¨æœåŠ¡å™¨çš„ä»£ç ã€‚å®ƒå°†æœåŠ¡å™¨ç»‘å®šåˆ°å°†ç”¨äºç›‘å¬è¿æ¥çš„ç«¯å£ã€‚

Bootstrap â€“ ç”¨äºå¼•å¯¼å®¢æˆ·ç«¯é€šé“çš„ä»£ç ã€‚

EventLoopGroup â€“
* æ˜¯ä¸€ç»„ EventLoopã€‚ä¸€æ—¦æ³¨å†Œç»™æŸä¸ª Channelï¼ŒEventLoop å°±ä¼šå¤„ç†è¯¥é€šé“çš„æ‰€æœ‰ I/O æ“ä½œã€‚
* ServerBootstrap éœ€è¦ä¸¤ç§ç±»å‹çš„ EventLoopGroupï¼Œå³ â€œbossâ€ å’Œ â€œworkerâ€ã€‚è€Œ Client Bootstrap ä¸éœ€è¦ boss ç»„ã€‚
* Boss EventLoopGroup â€“ è¿™ä¸ªäº‹ä»¶å¾ªç¯ç»„è´Ÿè´£ç›‘å¬å¹¶æ¥å—ä¼ å…¥çš„è¿æ¥ã€‚
* Worker EventLoopGroup â€“ Boss æ¥å—è¿æ¥åï¼Œå°†å…¶æ³¨å†Œåˆ° worker EventLoopGroupã€‚Worker è´Ÿè´£å¤„ç†é€šè¿‡è¯¥è¿æ¥è¿›è¡Œé€šä¿¡æœŸé—´çš„æ‰€æœ‰äº‹ä»¶ã€‚

Channelï¼ˆNioServerSocketChannelï¼‰ â€“ é…ç½®æœåŠ¡å™¨ä½¿ç”¨åŸºäº NIO é€‰æ‹©å™¨çš„å®ç°æ¥æ¥å—æ–°è¿æ¥ã€‚

è§£ç å™¨/ç¼–ç å™¨ï¼ˆStringDecoder / StringEncoderï¼‰ â€“
* Netty çš„é€šä¿¡æ˜¯é€šè¿‡ç½‘ç»œå¥—æ¥å­—é€šé“è¿›è¡Œçš„ï¼Œæ•°æ®ä»¥å­—èŠ‚æ ¼å¼ä¼ è¾“ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬è¦å‘é€ç‰¹å®šç±»å‹çš„æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼‰ï¼Œå°±éœ€è¦æä¾›ç¼–ç å™¨å°†æ•°æ®ç±»å‹ç¼–ç ä¸ºå­—èŠ‚ï¼Œä»¥åŠè§£ç å™¨å°†å­—èŠ‚è§£ç å›æ•°æ®ç±»å‹ã€‚
* Netty æä¾›äº† String ç¼–ç å™¨å’Œè§£ç å™¨ã€‚ä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºä»»ä½•æˆ‘ä»¬éœ€è¦çš„æ•°æ®ç±»å‹åˆ›å»ºè‡ªå®šä¹‰çš„ç¼–ç å™¨æˆ–è§£ç å™¨ã€‚

## Nettyæ¨¡å‹selectoræ¨¡å¼
å®ƒç›¸å¯¹æ™®é€šNIOçš„åœ¨æ€§èƒ½ä¸Šæœ‰äº†æå‡ï¼Œé‡‡ç”¨äº†ï¼š
* NIOé‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªselector
* é€šè¿‡ç»‘å®šå¤šä¸ªç«¯å£çš„æ–¹å¼ï¼Œä½¿å¾—ä¸€ä¸ªselectorå¯ä»¥åŒæ—¶æ³¨å†Œå¤šä¸ªServerSocketServer
* å•ä¸ªçº¿ç¨‹ä¸‹åªèƒ½æœ‰ä¸€ä¸ªselectorï¼Œç”¨æ¥å®ç°Channelçš„åŒ¹é…åŠå¤ç”¨

> åŠåŒ…é—®é¢˜: 
> TCP/IPåœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæ‹†åŒ…ï¼Œè¿™å°±å¯¼è‡´æ¥æ”¶ç«¯æ— æ³•çŸ¥é“ä»€ä¹ˆæ—¶å€™æ”¶åˆ°çš„æ•°æ®æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ•°æ®ã€‚
> åœ¨ä¼ ç»Ÿçš„BIOä¸­åœ¨è¯»å–ä¸åˆ°æ•°æ®æ—¶ä¼šå‘ç”Ÿé˜»å¡ï¼Œä½†æ˜¯NIOä¸ä¼šã€‚
> ä¸ºäº†è§£å†³NIOçš„åŠåŒ…é—®é¢˜ï¼ŒNettyåœ¨Selectoræ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œæå‡ºäº†reactoræ¨¡å¼ï¼Œä»è€Œè§£å†³å®¢æˆ·ç«¯è¯·æ±‚åœ¨æœåŠ¡ç«¯ä¸å®Œæ•´çš„é—®é¢˜ã€‚


## Nettyæ¨¡å‹reactoræ¨¡å¼
reactoræ¨¡å¼åœ¨selectoræ¨¡å¼çš„åŸºç¡€ä¸Šè§£å†³äº†åŠåŒ…é—®é¢˜ã€‚

é¦–å…ˆæˆ‘ä»¬åŸºäºReactor Pattern å¤„ç†æ¨¡å¼ä¸­ï¼Œå®šä¹‰ä»¥ä¸‹ä¸‰ç§è§’è‰²:
* Reactor è´Ÿè´£å“åº”IOäº‹ä»¶ï¼Œå½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–°çš„äº‹ä»¶ï¼Œå°†å…¶åˆ†æ´¾ç»™ç›¸åº”çš„Handlerå»å¤„ç†ï¼›æ–°çš„äº‹ä»¶åŒ…å«è¿æ¥å»ºç«‹å°±ç»ªã€è¯»å°±ç»ªã€å†™å°±ç»ªç­‰ã€‚ 
* Acceptor å¤„ç†å®¢æˆ·ç«¯æ–°è¿æ¥ï¼Œå¹¶åˆ†æ´¾è¯·æ±‚åˆ°å¤„ç†å™¨é“¾ä¸­ 
* Handlers å°†è‡ªèº«ä¸äº‹ä»¶ç»‘å®šï¼Œè´Ÿè´£äº‹ä»¶çš„å¤„ç†ï¼Œæ‰§è¡Œéé˜»å¡è¯»/å†™ ä»»åŠ¡

### å•Reactorå•çº¿ç¨‹æ¨¡å‹
Reactorçº¿ç¨‹æ˜¯ä¸ªå¤šé¢æ‰‹ï¼Œè´Ÿè´£å¤šè·¯åˆ†ç¦»å¥—æ¥å­—ï¼ŒAcceptæ–°è¿æ¥ï¼Œå¹¶åˆ†æ´¾è¯·æ±‚åˆ°Handlerå¤„ç†å™¨ä¸­ã€‚

![å•Reactorå•çº¿ç¨‹æ¨¡å‹](./dream/static/home/netty-reactor-single.png)

è¿™æ˜¯æœ€åŸºæœ¬çš„å•Reactorå•çº¿ç¨‹æ¨¡å‹ã€‚å…¶ä¸­Reactorçº¿ç¨‹ï¼Œè´Ÿè´£å¤šè·¯åˆ†ç¦»å¥—æ¥å­—ï¼Œæœ‰æ–°è¿æ¥åˆ°æ¥è§¦å‘connect äº‹ä»¶ä¹‹åï¼Œäº¤ç”±Acceptorè¿›è¡Œå¤„ç†ï¼Œæœ‰IOè¯»å†™äº‹ä»¶ä¹‹åäº¤ç»™hanlder å¤„ç†ã€‚

Acceptorä¸»è¦ä»»åŠ¡å°±æ˜¯æ„å»ºhandler ï¼Œåœ¨è·å–åˆ°å’Œclientç›¸å…³çš„SocketChannelä¹‹å ï¼Œç»‘å®šåˆ°ç›¸åº”çš„hanlderä¸Šï¼Œå¯¹åº”çš„SocketChannelæœ‰è¯»å†™äº‹ä»¶ä¹‹åï¼ŒåŸºäºreacotor åˆ†å‘,hanlderå°±å¯ä»¥å¤„ç†äº†ï¼ˆæ‰€æœ‰çš„IOäº‹ä»¶éƒ½ç»‘å®šåˆ°selectorä¸Šï¼Œæœ‰Reactoråˆ†å‘ï¼‰ã€‚

å•çº¿ç¨‹æ¨¡å‹çš„ç¼ºç‚¹ï¼š
1. å½“å…¶ä¸­æŸä¸ª handler é˜»å¡æ—¶ï¼Œ ä¼šå¯¼è‡´å…¶ä»–æ‰€æœ‰çš„ client çš„ handler éƒ½å¾—ä¸åˆ°æ‰§è¡Œï¼Œ å¹¶ä¸”æ›´ä¸¥é‡çš„æ˜¯ï¼Œ handler çš„é˜»å¡ä¹Ÿä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡ä¸èƒ½æ¥æ”¶æ–°çš„ client è¯·æ±‚(å› ä¸º acceptor ä¹Ÿè¢«é˜»å¡äº†)ã€‚ å› ä¸ºæœ‰è¿™ä¹ˆå¤šçš„ç¼ºé™·ï¼Œ å› æ­¤å•çº¿ç¨‹Reactor æ¨¡å‹ç”¨çš„æ¯”è¾ƒå°‘ã€‚è¿™ç§å•çº¿ç¨‹æ¨¡å‹ä¸èƒ½å……åˆ†åˆ©ç”¨å¤šæ ¸èµ„æºï¼Œæ‰€ä»¥å®é™…ä½¿ç”¨çš„ä¸å¤šã€‚
2. å› æ­¤ï¼Œå•çº¿ç¨‹æ¨¡å‹ä»…ä»…é€‚ç”¨äºhandler ä¸­ä¸šåŠ¡å¤„ç†ç»„ä»¶èƒ½å¿«é€Ÿå®Œæˆçš„åœºæ™¯ã€‚

### å•Reactorå¤šçº¿ç¨‹æ¨¡å‹

åœ¨å•çº¿ç¨‹Reactoræ¨¡å¼åŸºç¡€ä¸Šï¼Œåšå¦‚ä¸‹æ”¹è¿›ï¼š
1. å°†Handlerå¤„ç†å™¨çš„æ‰§è¡Œæ”¾å…¥çº¿ç¨‹æ± ï¼Œå¤šçº¿ç¨‹è¿›è¡Œä¸šåŠ¡å¤„ç†ã€‚
2. è€Œå¯¹äºReactorè€Œè¨€ï¼Œå¯ä»¥ä»ä¸ºå•ä¸ªçº¿ç¨‹ã€‚å¦‚æœæœåŠ¡å™¨ä¸ºå¤šæ ¸çš„CPUï¼Œä¸ºå……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºï¼Œå¯ä»¥å°†Reactoræ‹†åˆ†ä¸ºä¸¤ä¸ªçº¿ç¨‹ã€‚

![å•Reactorå¤šçº¿ç¨‹æ¨¡å‹](./dream/static/home/netty-reactor-muti.png)

æ­¤æ¨¡å‹å¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„å¤„ç†èƒ½åŠ›ï¼Œä½†æ˜¯å¤šçº¿ç¨‹æ•°æ®å…±äº«å’Œè®¿é—®ä¼šæ¯”è¾ƒå¤æ‚ï¼ŒReactoråœ¨å•çº¿ç¨‹é‡Œå¤„ç†æ‰€æœ‰è¿æ¥ä¸äº‹ä»¶çš„ç›‘å¬ï¼Œä»¥åŠäº‹ä»¶åˆ†å‘ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯å®¹æ˜“å‡ºç°æ€§èƒ½ç“¶é¢ˆï¼Œå¤šçº¿ç¨‹ä»…ä»…è§£å†³ä¸šåŠ¡å¤„ç†çš„å‹åŠ›ã€‚

### å¤šReactorå¤šçº¿ç¨‹æ¨¡å‹
å¯¹äºå¤šä¸ªCPUçš„æœºå™¨ï¼Œä¸ºå……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºï¼Œå°†Reactoræ‹†åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚

1. mainReactorè´Ÿè´£ç›‘å¬server socketï¼Œç”¨æ¥å¤„ç†æ–°è¿æ¥çš„å»ºç«‹ï¼Œå°†å»ºç«‹çš„socketChannelæŒ‡å®šæ³¨å†Œç»™subReactorã€‚
2. subReactorç»´æŠ¤è‡ªå·±çš„selector, åŸºäºmainReactor æ³¨å†Œçš„socketChannelå¤šè·¯åˆ†ç¦»IOè¯»å†™äº‹ä»¶ï¼Œè¯»å†™ç½‘ ç»œæ•°æ®ï¼Œå¯¹ä¸šåŠ¡å¤„ç†çš„åŠŸèƒ½ï¼Œå¦å…¶æ‰”ç»™workerçº¿ç¨‹æ± æ¥å®Œæˆã€‚

![å¤šReactorå¤šçº¿ç¨‹æ¨¡å‹](./dream/static/home/netty-reactor.png)

ä¸Šå›¾ï¼Œç®€å•åœ°å¯ä»¥æè¿°ä¸º "bossæ¥æ´»ï¼Œè®©workå¹²"ï¼šmanReactorç”¨æ¥æ¥æ”¶è¯·æ±‚ï¼ˆä¼šä¸å®¢æˆ·ç«¯è¿›è¡Œæ¡æ‰‹éªŒè¯ï¼‰ï¼Œè€ŒsubReactorç”¨æ¥å¤„ç†è¯·æ±‚ï¼ˆä¸ä¸å®¢æˆ·ç«¯ç›´æ¥è¿æ¥ï¼‰ã€‚


# ğŸ“š é¡¹ç›®æ¨¡å—

## Netty åŸºç¡€å…¥é—¨æ¨¡å—

### 01.server-and-client
**Echo æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åŸºç¡€å®ç°**
- æ„å»ºæœ€åŸºæœ¬çš„ Echo Server å’Œ Client
- å­¦ä¹  Netty çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼
- ç†è§£æœåŠ¡å™¨-å®¢æˆ·ç«¯é€šä¿¡æ¨¡å‹

### 02.server-and-client-application
**å®Œæ•´çš„ Echo åº”ç”¨ç¨‹åº**
- ä½¿ç”¨ `exec-maven-plugin` æ’ä»¶çš„å®Œæ•´åº”ç”¨
- æ”¯æŒ Maven é¢æ¿è¿è¡Œå’Œè°ƒè¯•
- ğŸ“– [ä½¿ç”¨æ‰‹å†Œ](./02.server-and-client-application/Usage.md)

### 03.handler-decoder
**ç¼–è§£ç å™¨å®è·µ**
- RequestData çš„ç¼–ç å™¨å’Œè§£ç å™¨å®ç°
- å­¦ä¹ è‡ªå®šä¹‰æ•°æ®æ ¼å¼çš„å¤„ç†
- ç†è§£ Netty çš„ç¼–è§£ç æœºåˆ¶

## Netty èŠå¤©åº”ç”¨æ¨¡å—

### 04.chat
**åŸºç¡€èŠå¤©ç³»ç»Ÿ**
- æ§åˆ¶å°è¾“å…¥çš„èŠå¤©å®¢æˆ·ç«¯åº”ç”¨
- æ”¯æŒå¤šå®¢æˆ·ç«¯åŒæ—¶èŠå¤©
- æ¶ˆæ¯å¹¿æ’­åŠŸèƒ½
- ğŸ“– [è¯¦ç»†æ–‡æ¡£](./04.chat/README.md)

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- å®¢æˆ·ç«¯å¯åŠ¨æ—¶è¾“å…¥ç”¨æˆ·å
- å®æ—¶æ¶ˆæ¯å‘é€å’Œæ¥æ”¶
- æœåŠ¡å™¨å‘æ‰€æœ‰å®¢æˆ·ç«¯å¹¿æ’­æ¶ˆæ¯
- æ”¯æŒå¢å¼ºç‰ˆç§èŠåŠŸèƒ½

### 05.chats
**é«˜çº§èŠå¤©å®¤ç³»ç»Ÿ**
- åŸºäºè‡ªå®šä¹‰ `Message` æ•°æ®ç»“æ„çš„ç¾¤èŠç³»ç»Ÿ
- æ˜µç§°æ˜¾ç¤ºä¸ç³»ç»Ÿæç¤ºåŠŸèƒ½
- æ”¯æŒå‘½ä»¤æ“ä½œï¼ˆå¦‚ `/name` ä¿®æ”¹æ˜µç§°ï¼‰
- ğŸ“– [ä½¿ç”¨æŒ‡å—](./05.chats/README.md)

**ç‰¹è‰²åŠŸèƒ½ï¼š**
- æ˜µç§°æ˜¾ç¤ºä¸ºã€æ˜µç§°ã€‘è€Œéã€IPã€‘
- ç¦»çº¿é€šçŸ¥å’Œç”¨æˆ·åŠ å…¥/ç¦»å¼€æç¤º
- é›¶ä¾µå…¥é…ç½®ï¼Œè‡ªåŠ¨å›é€€é»˜è®¤å€¼
- åŸºäº DelimiterBasedFrameDecoder çš„æ–‡æœ¬åè®®

### 06.netty-buffer
**ByteBuf ç¼“å†²åŒºæ·±åº¦å­¦ä¹ **
- Netty ByteBuf çš„å®Œæ•´å®ç°å’Œä¼˜åŒ–
- è§£å†³ JDK ByteBuffer çš„å±€é™æ€§
- ğŸ“– [è¯¦ç»†æ–‡æ¡£](./06.netty-buffer/README.md)

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**
- å¯æ‰©å±•çš„è‡ªå®šä¹‰ç¼“å†²åŒºç±»å‹
- é€æ˜çš„é›¶æ‹·è´å¤åˆç¼“å†²åŒº
- å®¹é‡æŒ‰éœ€å¢é•¿ï¼Œæ— éœ€ flip() æ–¹æ³•
- ç‹¬ç«‹çš„è¯»å†™ç´¢å¼•ï¼Œæ”¯æŒæ–¹æ³•é“¾å¼è°ƒç”¨
- å¼•ç”¨è®¡æ•°å’Œæ± åŒ–æ”¯æŒ

**å®ç°å†…å®¹ï¼š**
- ByteBuf åˆ†é…å™¨ï¼ˆPooled/Unpooledï¼‰
- å †ç¼“å†²åŒºã€ç›´æ¥ç¼“å†²åŒºã€å¤åˆç¼“å†²åŒº
- æ•°æ®éå†ã€å†™å…¥ã€ç´¢å¼•ç®¡ç†ã€å¤åˆ¶åˆ†ç‰‡æ“ä½œ

### 07.netty-channel
**Channel é€šé“å…¨é¢è§£æ**
- Netty Channel çš„æ ¸å¿ƒæ¦‚å¿µå’Œç”Ÿå‘½å‘¨æœŸ
- å¤šç§ Channel ç±»å‹çš„å®ç°å’Œåº”ç”¨åœºæ™¯
- ğŸ“– [å®Œæ•´æŒ‡å—](./07.netty-channel/README.md)

**Channel ç±»å‹è¦†ç›–ï¼š**
- **ServerSocketChannel**: TCP æœåŠ¡å™¨ç«¯ç›‘å¬ï¼ˆå«å›ç¯é€šä¿¡ç¤ºä¾‹ï¼‰
- **SocketChannel**: TCP å®¢æˆ·ç«¯è¿æ¥ï¼ˆå«å¿ƒè·³æœºåˆ¶ï¼‰
- **LocalServerChannel**: åŒ JVM è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰
- **DomainSocketChannel**: Unix åŸŸå¥—æ¥å­—é€šä¿¡ï¼ˆLinux/macOSï¼‰
- **FileChannel**: æ–‡ä»¶ I/O æ“ä½œ
- **EmbeddedChannel**: å•å…ƒæµ‹è¯•ä¸“ç”¨é€šé“
- **DatagramChannel**: UDP é€šä¿¡ï¼ˆç‚¹å¯¹ç‚¹ã€å¹¿æ’­ã€å¤šæ’­ï¼‰

## Netty é«˜çº§ç‰¹æ€§æ¨¡å—

### 08.msgpack
ä½¿ç”¨æ¯”è¾ƒä¼˜ç§€çš„ç¼–ç è§£ç æŠ€æœ¯MessagePackï¼Œé«˜æ•ˆç¼–è§£ç ã€‚

### 09.netty-see
**ğŸ¯ Netty å®æ—¶ç›‘æ§ç³»ç»Ÿ**
- ä¸“ä¸º Netty åº”ç”¨è®¾è®¡çš„å®Œæ•´ç›‘æ§è§£å†³æ–¹æ¡ˆ
- æ™ºèƒ½æ³¨è§£ç³»ç»Ÿå’ŒåŠ¨æ€æ¨¡æ¿è§£æ
- ğŸ“– [å®Œæ•´æ–‡æ¡£](./09.netty-see/README.md)

![index](./09.netty-see/static/netty-see-index.png)

![channel-detail](./09.netty-see/static/netty-see-channel-detail.png)

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- **æ™ºèƒ½æ³¨è§£**: `@NettyMonitor` æ³¨è§£å³å¯å¯ç”¨ç›‘æ§
- **åŠ¨æ€æ¨¡æ¿**: æ”¯æŒ `${username}`ã€`${server.port}` ç­‰å˜é‡
- **æ— ä¾µå…¥é›†æˆ**: Pipeline Handler è‡ªåŠ¨æ‹¦æˆª
- **å®æ—¶ç›‘æ§**: TCP é•¿è¿æ¥ + Web æ§åˆ¶å°
- **é«˜å¯ç”¨è®¾è®¡**: ç›‘æ§æ•…éšœä¸å½±å“ä¸šåŠ¡
- **å»¶è¿Ÿåˆå§‹åŒ–**: è‡ªåŠ¨é‡è¯•å’Œé™çº§å¤„ç†

**æ¨¡å—æ¶æ„ï¼š**
- `agent/`: ç›‘æ§ä»£ç†æ¨¡å—ï¼ˆåµŒå…¥ç›®æ ‡åº”ç”¨ï¼‰
- `console/`: Web æ§åˆ¶å°ï¼ˆé›†æˆç›‘æ§æœåŠ¡å™¨å’Œå¯è§†åŒ–ï¼‰
- `server/`: ç‹¬ç«‹ç›‘æ§æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰

### 11.netty-capacity
**Netty æ€§èƒ½å’Œå®¹é‡æµ‹è¯•**
- æ€§èƒ½åŸºå‡†æµ‹è¯•å’Œå®¹é‡è§„åˆ’
- ä¸åŒåœºæ™¯ä¸‹çš„æ€§èƒ½ä¼˜åŒ–å®è·µ

## calcite jj ä»‹ç»
calcite parserä»£ç ç”Ÿæˆé€»è¾‘

![code-generate-process](dream/docs/calcite/calcite-parser-code-generate-process.png)

### [41.load-parser-jj](./41.load-parser-jj/)
è·å– Calcite æºç ä¸­çš„ Parser.jj æ–‡ä»¶

ä½¿ç”¨ Maven æ’ä»¶ maven-dependency-plugin ç›´æ¥ä» Calcite æºç åŒ…ä¸­è¿›è¡Œæ‹·è´ã€‚

[README.md](./41.load-parser-jj/README.md)

### [42.parser-jj-generator](./42.parser-jj-generator/)
æ ¹æ® parser-jj æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆ parser-jj ä»£ç æ–‡ä»¶.

[README.md](./42.parser-jj-generator/README.md)


### [43.parser-generator](./43.parser-generator/)

å°† parser-jj-generator æ¨¡å—ä¸­ç”Ÿæˆçš„ Parser.jj ä»£ç æ–‡ä»¶ç”Ÿæˆ Parser Javaä»£ç  (è·¯å¾„ target\generated-sources\fmpp\javacc)
copyè‡³æ­¤é¡¹ç›®ä¸­ã€‚

[README.md](./43.parser-generator/README.md)


### [44.auto-generator](./44.auto-generator/)
æ ¹æ® parser-jj æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆ Parser Javaä»£ç (ä¸éœ€è¦å¯¹Parser.jjè¿›è¡Œå®šåˆ¶åŒ–ä¿®æ”¹)ã€‚

å¦‚æœä¸éœ€è¦å¯¹Parser.jjè¿›è¡Œå®šåˆ¶åŒ–ä¿®æ”¹ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡è¿ç»­è¿è¡Œä¸¤ä¸ªæ’ä»¶ï¼Œ æ ¹æ® parser-jj æ¨¡æ¿ç”Ÿæˆ Parser Javaä»£ç ã€‚

[README.md](./44.auto-generator/README.md)

### [45.new-grammar](./45.new-grammar/)
ä½¿ç”¨ FreeMarker æ¨¡ç‰ˆæ’ä»¶æ ¹æ® config.fmpp ç”Ÿæˆ parser.jj æ–‡ä»¶ï¼Œæœ€åä½¿ç”¨ JavaCC ç¼–è¯‘æ’ä»¶ç”Ÿæˆæœ€ç»ˆçš„è§£æå™¨ä»£ç ã€‚

[README.md](./45.new-grammar/README.md)

æ–°å¢è‡ªå®šä¹‰è¯­æ³•çš„ä¾‹å­å·¥ç¨‹

  * CREATE MATERIALIZED VIEW [ IF NOT EXISTS ] view_name AS query
  * JACKY JOB 'query'

### [46.calcite-schema](./46.calcite-schema/)
  * å¤šç§æ•°æ®æºåŠ è½½çš„ç¤ºä¾‹
  * è‡ªå®šä¹‰è¯­æ³• submit job as query çš„ç¤ºä¾‹

å¤šç§æ•°æ®æºåŠ è½½çš„ç¤ºä¾‹ã€‚

[README.md](./46.calcite-schema/README.md)


### [47.calcite-rule](./47.calcite-rule/)
  * åŸºäº avacita å®ç°å„ç§æ•°æ®åº“jdbcæŸ¥è¯¢çš„ä¾‹å­

### [48.avacita](./48.avacita/)
  * åŸºäº avacita å®ç°å„ç§æ•°æ®åº“jdbcæŸ¥è¯¢çš„ä¾‹å­

[README.md](./48.avacita/README.md)


## ğŸ› ï¸ å·¥å…·æ¨¡å—

### core
**æ ¸å¿ƒå·¥å…·å’Œé€šç”¨ç»„ä»¶**
- é¡¹ç›®é€šç”¨çš„å·¥å…·ç±»å’ŒåŸºç¡€ç»„ä»¶
- ä¸ºå…¶ä»–æ¨¡å—æä¾›åŸºç¡€æ”¯æŒ

### utils
**å®ç”¨å·¥å…·é›†åˆ**
- é€šç”¨å·¥å…·ç±»åº“
- ä¸ºæ•´ä¸ªé¡¹ç›®æä¾›åŸºç¡€å·¥å…·æ”¯æŒ


# ğŸš€ å¿«é€Ÿå¼€å§‹

## æ„å»ºé¡¹ç›®

**æ„å»ºæ‰€æœ‰æ¨¡å—ï¼š**
```bash
mvn clean initialize

mvn package

mvn clean install
```


**æ„å»ºå•ä¸ªæ¨¡å—ï¼š**
```bash
# é¦–å…ˆæ„å»ºåŸºç¡€å·¥å…·æ¨¡å—
mvn install -pl utils

# ç„¶åæ„å»ºç‰¹å®šæ¨¡å—ï¼Œä¾‹å¦‚ï¼š
mvn install -pl 05.chats
mvn install -pl 09.netty-see
```

## è¿è¡Œç¤ºä¾‹

**1. èŠå¤©ç³»ç»Ÿä½“éªŒï¼š**
```bash
# å¯åŠ¨èŠå¤©æœåŠ¡å™¨
cd 05.chats
mvn exec:java -Dexec.mainClass="com.yueny.stars.netty.chats.server.ChatsServer"

# å¯åŠ¨èŠå¤©å®¢æˆ·ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
mvn exec:java -Dexec.mainClass="com.yueny.stars.netty.chats.client.ChatsClient"
```

**2. ç›‘æ§ç³»ç»Ÿä½“éªŒï¼š**
```bash
# å¯åŠ¨ç›‘æ§æ§åˆ¶å°
cd 09.netty-see/console
mvn spring-boot:run

# è®¿é—® http://localhost:8081 æŸ¥çœ‹ç›‘æ§é¢æ¿
```

**3. Channel ç¤ºä¾‹ä½“éªŒï¼š**
```bash
# TCP Socket é€šä¿¡ç¤ºä¾‹
cd 07.netty-channel
mvn exec:java -Dexec.mainClass="com.yueny.stars.netty.channel.socket.SocketTcpServer"
mvn exec:java -Dexec.mainClass="com.yueny.stars.netty.channel.socket.SocketTcpClient"

# UDP é€šä¿¡ç¤ºä¾‹
mvn exec:java -Dexec.mainClass="com.yueny.stars.netty.channel.datagram.pointtopoint.UdpServer"
mvn exec:java -Dexec.mainClass="com.yueny.stars.netty.channel.datagram.pointtopoint.UdpClient"
```

# ğŸ“– ç›¸å…³èµ„æº

- [Netty å®˜æ–¹æ–‡æ¡£](https://netty.io/wiki/)
- [Java NIO æ•™ç¨‹](https://docs.oracle.com/javase/tutorial/essential/io/nio.html)
- [é¡¹ç›® Issues](https://gitee.com/whosly/netty-stars/issues) - é—®é¢˜åé¦ˆå’Œè®¨è®º
